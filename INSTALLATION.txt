â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  INSTALLATION DU SCRIPT DE SURVEILLANCE DE RENDEZ-VOUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. COPIER LE SCRIPT SUR LE SERVEUR
   ---------------------------------
   scp check_appointment.sh user@votre-serveur:/home/user/
   ssh user@votre-serveur


2. CONFIGURATION DU SCRIPT
   ------------------------
   Ã‰ditez le fichier et modifiez ces variables :

   nano check_appointment.sh

   USERNAME="votre_email@example.com"
   PASSWORD="votre_mot_de_passe"
   EMAIL_TO="email_pour_notifications@example.com"

   # Pour Gmail :
   SMTP_USER="votre_email@gmail.com"
   SMTP_PASSWORD="mot_de_passe_application"
   # (CrÃ©ez un mot de passe d'application Gmail si 2FA activÃ©)


3. RENDRE LE SCRIPT EXÃ‰CUTABLE
   ----------------------------
   chmod +x check_appointment.sh


4. INSTALLER LES DÃ‰PENDANCES
   --------------------------
   # Sur Ubuntu/Debian :
   sudo apt-get update
   sudo apt-get install -y curl mailutils

   # Sur CentOS/RHEL :
   sudo yum install -y curl mailx


5. LANCER LE SCRIPT
   -----------------

   Option A - En arriÃ¨re-plan avec nohup :
   nohup ./check_appointment.sh > /dev/null 2>&1 &

   Option B - Avec screen (recommandÃ©) :
   screen -S appointment
   ./check_appointment.sh
   # Puis Ctrl+A puis D pour dÃ©tacher

   Option C - Avec systemd (service permanent) :
   Voir section SYSTEMD ci-dessous


6. VÃ‰RIFIER LE FONCTIONNEMENT
   ---------------------------
   # Voir les logs en temps rÃ©el :
   tail -f /tmp/appointment_checker.log

   # VÃ©rifier que le processus tourne :
   ps aux | grep check_appointment


7. ARRÃŠTER LE SCRIPT
   ------------------
   # Si lancÃ© avec nohup :
   pkill -f check_appointment.sh

   # Si lancÃ© avec screen :
   screen -r appointment
   # Puis Ctrl+C


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  INSTALLATION COMME SERVICE SYSTEMD (RECOMMANDÃ‰)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. CrÃ©er le fichier service :
   sudo nano /etc/systemd/system/appointment-checker.service

2. Coller ce contenu :

[Unit]
Description=TLS Contact Appointment Checker
After=network.target

[Service]
Type=simple
User=votre_user
WorkingDirectory=/home/votre_user
ExecStart=/bin/bash /home/votre_user/check_appointment.sh
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target

3. Activer et dÃ©marrer le service :
   sudo systemctl daemon-reload
   sudo systemctl enable appointment-checker
   sudo systemctl start appointment-checker

4. Commandes utiles :
   sudo systemctl status appointment-checker  # Voir le statut
   sudo systemctl stop appointment-checker    # ArrÃªter
   sudo systemctl restart appointment-checker # RedÃ©marrer
   sudo journalctl -u appointment-checker -f  # Voir les logs


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  NOTES IMPORTANTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Le script maintient automatiquement la session active
âœ“ Reconnexion automatique toutes les 2 heures
âœ“ DÃ©lais alÃ©atoires pour Ã©viter la dÃ©tection
âœ“ Gestion de Cloudflare via cookies et headers
âœ“ Logs dÃ©taillÃ©s dans /tmp/appointment_checker.log

âš  Adaptez les sÃ©lecteurs HTML si le site change de structure
âš  Pour Gmail, activez "AccÃ¨s application moins sÃ©curisÃ©e" ou
   utilisez un mot de passe d'application

ğŸ“§ Pour tester l'envoi d'email :
   echo "Test" | mail -s "Test Email" votre_email@example.com
